<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 13</title>
</head>

<body>
    <h1>Campanha Palmeiras</h1>
    <select id="resultado_partida">
        <option value="#">Indique o resultado</option>
        <option value="vitoria">Vitória</option>
        <option value="empate">Empate</option>
        <option value="derrota">Derrota</option>
    </select>
    <button onclick="registrarJogo()">Registrar Jogo</button>
    <div id="resultadoMostrar"></div>
    <input id="input_jogo" onkeyup="mostrarJogos()" placeholder="Pesquise por um jogo">
</body>

</html>

<script>
    const listaCampanha = []
    function registrarJogo() {
        limparDiv()
        const resultado = resultado_partida.value
        if (resultado != "#") {
            listaCampanha.push(resultado)
            let vitorias = 0
            let empates = 0
            let derrotas = 0
            let campanhaTotal = 0

            for (let posicao = 0; posicao < listaCampanha.length; posicao++) {
                if (listaCampanha[posicao] == "vitoria") {
                    vitorias++
                    campanhaTotal += 3
                }
                else if (listaCampanha[posicao] == "empate") {
                    empates++
                    campanhaTotal += 1
                }
                else if (listaCampanha[posicao] == "derrota") {
                    derrotas++
                    campanhaTotal += 0
                }
            }

            let pontosPossiveis = listaCampanha.length * 3

            resultadoMostrar.innerHTML = `O time teve: ${vitorias} vitórias, ${empates} empates, ${derrotas} derrotas <br>

                                          Pontuação total: ${campanhaTotal} pontos <br>

                                          Aproveitamento: ${(campanhaTotal / pontosPossiveis * 100).toFixed(2)}% <br>

                                         `

        } else {
            resultadoMostrar.innerHTML = `Insira um resultado válido!`
        }
    }
    function limparDiv() {
        resultadoMostrar.innerHTML = ""
    }
    function mostrarJogos() {
        const numeroJogo = input_jogo.value - 1

        for (let posicao = 0; posicao < listaCampanha.length; posicao++) {

            if (numeroJogo > lista.length) {
                resultadoMostrar.innerHTML = `Não foi cadastrado um ${numeroJogo} jogo`
            }
            else if (listaCampanha[numeroJogo] == "vitoria") {
                resultadoMostrar.innerHTML = `No jogo ${numeroJogo + 1} o time venceu`
            }
            else if (listaCampanha[numeroJogo] == "empate") {
                resultadoMostrar.innerHTML = `No jogo ${numeroJogo + 1} o time empatou`
            }
            else if (listaCampanha[numeroJogo] == "derrota") {
                resultadoMostrar.innerHTML = `No jogo ${numeroJogo + 1} o time foi derrotado`
            }
        }
    }
</script>